{{ $cover := and
    (.HasShortcode "blocks/cover")
    (not .Site.Params.ui.navbar_translucent_over_cover_disable)
-}}
{{ $baseURL := urls.Parse $.Site.Params.Baseurl -}}

<nav class="td-navbar js-navbar-scroll
            {{- if $cover }} td-navbar-cover {{- end }}" data-bs-theme="dark">
<div class="container-fluid flex-column flex-md-row">
  <a class="navbar-brand" href="{{ .Site.Home.RelPermalink }}">
    {{- /**/ -}}
    <span class="navbar-brand__logo navbar-logo">
      {{- if ne .Site.Params.ui.navbar_logo false -}}
        {{ with resources.Get "icons/logo.svg" -}}
          {{ ( . | minify).Content | safeHTML -}}
        {{ end -}}
      {{ end -}}
    </span>
    {{- /**/ -}}
    <span class="navbar-brand__name">
      {{- .Site.Title -}}
    </span>
    {{- /**/ -}}
  </a>
  <div class="td-navbar-nav-scroll ms-md-auto" id="main_navbar">
    <ul class="navbar-nav">
      {{ $p := . -}}
      {{ range .Site.Menus.main -}}
      <li class="nav-item">
        {{ $active := or ($p.IsMenuCurrent "main" .) ($p.HasMenuCurrent "main" .) -}}
        {{ $href := "" -}}
        {{ with .Page -}}
          {{ $active = or $active ( $.IsDescendant .) -}}
          {{ $href = .RelPermalink -}}
        {{ else -}}
          {{ $href = .URL | relLangURL -}}
        {{ end -}}
        {{ $isExternal := ne $baseURL.Host (urls.Parse .URL).Host -}}
        <a {{/**/ -}}
          class="nav-link {{- if $active }} active {{- end }}" {{/**/ -}}
          href="{{ $href }}"
          {{- if $isExternal }} target="_blank" rel="noopener" {{- end -}}
        >
            {{- .Pre -}}
            <span>{{ .Name }}</span>
            {{- .Post -}}
        </a>
      </li>
      {{ end -}}
      {{ if .Site.Params.versions -}}
      <li class="nav-item dropdown d-none d-lg-block">
        {{ partial "navbar-version-selector.html" . -}}
      </li>
      {{ end -}}
      {{ if (gt (len .Site.Home.Translations) 0) -}}
      <li class="nav-item dropdown d-none d-lg-block">
        {{ partial "navbar-lang-selector.html" . -}}
      </li>
      {{ end -}}
      {{ if .Site.Params.ui.showLightDarkModeMenu -}}
      <li class="td-light-dark-menu nav-item dropdown">
        {{ partial "theme-toggler" . }}
      </li>
      {{ end -}}
      <li class="nav-item">
        <ul class="navbar-nav mt-2 mt-lg-0">
            <li class="td-light-dark-menu nav-item dropdown">
                <button class="btn btn-link nav-link dropdown-toggle d-flex align-items-center" id="distro-select" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" data-distro="rhel;roskylinux;9" aria-label="Toggle Flavor">
                    Rockylinux 9
                </button>
                <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="bd-flavor-text">
                    <li>
                        <button type="button" class="dropdown-item d-flex align-items-center distro-option" data-distro="alpine;alpine;3.19" aria-pressed="false">
                        Alpine 3.19
                        </button>
                    </li>
                    <li>
                        <button type="button" class="dropdown-item d-flex align-items-center distro-option" data-distro="debian;debian;bookworm" aria-pressed="false">
                        Debian Bookworm
                        </button>
                    </li>
                    <li>
                        <button type="button" class="dropdown-item d-flex align-items-center distro-option" data-distro="debian;debian;testing" aria-pressed="false">
                        Debian Testing
                        </button>
                    </li>
                    <li>
                        <button type="button" class="dropdown-item d-flex align-items-center distro-option" data-distro="rhel;fedora;40" aria-pressed="false">
                        Fedora 40
                        </button>
                    </li>
                    <li>
                        <button type="button" class="dropdown-item d-flex align-items-center distro-option" data-distro="opensuse;opensuse;leap-15.6" aria-pressed="false">
                        openSUSE Leap-15.6
                        </button>
                    </li>
                    <li>
                        <button type="button" class="dropdown-item d-flex align-items-center distro-option" data-distro="opensuse;opensuse;tumbleweed" aria-pressed="false">
                        openSUSE Tumbleweed
                        </button>
                    </li>
                    <li>
                        <button type="button" class="dropdown-item d-flex align-items-center distro-option" data-distro="rhel;rockylinux;9" aria-pressed="true">
                        Rockylinux 9
                        </button>
                    </li>
                    <li>
                        <button type="button" class="dropdown-item d-flex align-items-center distro-option" data-distro="ubuntu;ubuntu;24.10" aria-pressed="false">
                        Ubuntu 24.10
                        </button>
                    </li>
                    <li>
                        <button type="button" class="dropdown-item d-flex align-items-center distro-option" data-distro="ubuntu;ubuntu;24.04" aria-pressed="false">
                        Ubuntu 24.04
                        </button>
                    </li>
                    <li>
                        <button type="button" class="dropdown-item d-flex align-items-center distro-option" data-distro="ubuntu;ubuntu;22.04" aria-pressed="false">
                        Ubuntu 22.04
                        </button>
                    </li>
                    <li>
                        <button type="button" class="dropdown-item d-flex align-items-center distro-option" data-distro="ubuntu;ubuntu;20.04" aria-pressed="false">
                        Ubuntu 20.04
                        </button>
                    </li>
                </ul>
            </li>
            <li class="nav-item mr-4 mb-2 mb-lg-0 mt-lg-2">
                <a class="github-button" href="https://github.com/kairos-io/kairos" data-size="large" data-show-count="true" aria-label="Star kairos-io/kairos on GitHub">Star</a>
            </li>
            <li class="td-light-dark-menu nav-item dropdown">
                <button class="btn btn-link nav-link dropdown-toggle d-flex align-items-center" id="analytics-select" type="button" aria-expanded="false" aria-controls="widget2" data-bs-toggle="dropdown" data-bs-display="static" data-analytics-state="on" aria-label="Toggle Analytics">
                    <div>
                        <i id="analytics-current-icon" class="fa-solid fa-user-tie"></i>
                    </div> &nbsp;
                </button>
                <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="bd-scarf-text" data-bs-popper="static">
                    <li>
                        <button type="button" id="analytics-on" class="dropdown-item d-flex align-items-center" aria-pressed="false">
                        <i class="fa-solid fa-user-tie"></i> Business use &nbsp;<i id="analytics-info" class="fa-solid fa-circle-info"></i>
                        </button>
                        <div id="analytics-modal">
                            <p>
                            If you are using Kairos for business purposes, please allow us to collect anonymous usage data. By leaving this option enabled, some of the download links will go through Scarf, which help us understand project adoption.
                            </p>
                            <p>
                            Scarf purges personally identifiable information immediately after metadata lookup, ensuring that no sensitive data is stored. It is a GDPR-compliant and used amoung different projects in the CNCF like Linkerd, Falco and others. You can learn more about it on <a href="https://scarf.sh/" target="_blank">scarf.sh</a>.
                            </p>
                        </div>
                    </li>
                    <li>
                        <button type="button" id="analytics-off" class="dropdown-item d-flex align-items-center" aria-pressed="false">
                        <i class="fa-solid fa-house-user"></i> Personal use
                        </button>
                    </li>
                </ul>
            </li>
        </li>
    </ul>
    </ul>
  </div>
  <div class="d-none d-lg-block">
    {{ partial "search-input.html" . }}
  </div>
</div>
</nav>