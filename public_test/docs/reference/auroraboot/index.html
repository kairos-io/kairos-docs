<!doctype html>
<html itemscope itemtype="http://schema.org/WebPage" lang="en" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">


<link rel="shortcut icon" href="/favicons/favicon.ico" >
<link rel="apple-touch-icon" href="/favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="icon" type="image/png" href="/favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/favicons/android-36x36.png" sizes="36x36">
<link rel="icon" type="image/png" href="/favicons/android-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="/favicons/android-72x72.png" sizes="72x72">
<link rel="icon" type="image/png" href="/favicons/android-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/favicons/android-144x144.png" sizes="144x144">
<link rel="icon" type="image/png" href="/favicons/android-192x192.png" sizes="192x192">

<title>AuroraBoot | Kairos</title>
<meta name="description" content="Reference documentation for AuroraBoot, a tool for generating bootable images">
<meta property="og:url" content="https://kairos.io/docs/reference/auroraboot/">
  <meta property="og:site_name" content="Kairos">
  <meta property="og:title" content="AuroraBoot">
  <meta property="og:description" content="Reference documentation for AuroraBoot, a tool for generating bootable images">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="docs">
    <meta property="article:modified_time" content="2025-10-20T08:48:34+03:00">
    <meta property="og:image" content="https://kairos.io/images/Kairos_800x419.png">

  <meta itemprop="name" content="AuroraBoot">
  <meta itemprop="description" content="Reference documentation for AuroraBoot, a tool for generating bootable images">
  <meta itemprop="dateModified" content="2025-10-20T08:48:34+03:00">
  <meta itemprop="wordCount" content="3760">
  <meta itemprop="image" content="https://kairos.io/images/Kairos_800x419.png">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="https://kairos.io/images/Kairos_800x419.png">
  <meta name="twitter:title" content="AuroraBoot">
  <meta name="twitter:description" content="Reference documentation for AuroraBoot, a tool for generating bootable images">
      <meta name="twitter:site" content="@Kairos_OSS">
<link rel="preload" href="/scss/main.scss" as="style" integrity="" crossorigin="anonymous">
<link href="/scss/main.scss" rel="stylesheet">
<script
  src="https://code.jquery.com/jquery-3.7.1.min.js"
  integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g=="
  crossorigin="anonymous"></script>
<script defer
  src="https://unpkg.com/lunr@2.3.9/lunr.min.js"
  integrity="sha384-203J0SNzyqHby3iU6hzvzltrWi/M41wOP5Gu+BiJMz5nwKykbkUx8Kp7iti0Lpli"
  crossorigin="anonymous"></script>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Mono:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&display=swap" rel="stylesheet">
<script defer data-domain="kairos.io" src="https://plausible.io/js/script.outbound-links.tagged-events.js"></script>
<script>window.plausible = window.plausible || function() { (window.plausible.q = window.plausible.q || []).push(arguments) }</script>

<script type="module" src="/js/kairos.9086b05855f0beebae6a1adfe52a8db6351e5ad523c65f8ebdad68dcf69ccd751e3d4dd95553ca3ae13ebc022f180f2d00bda9e0402704807a6d02fb14ca0381.js" integrity="sha512-kIawWFXwvuuuahrf5SqNtjUeWtUjxl&#43;Ova1o3PaczXUePU3ZVVPKOuE&#43;vAIvGA8tAL2p4EAnBIB6bQL7FMoDgQ==" defer></script>
<script async defer src="https://buttons.github.io/buttons.js"></script>

  </head>
  <body class="td-page">
    <header>
      <nav class="td-navbar js-navbar-scroll" data-bs-theme="dark">
<div class="container-fluid flex-column flex-md-row">
  <a class="navbar-brand" href="/"><span class="navbar-brand__logo navbar-logo"><svg width="30" height="30" viewBox="0 0 137 137" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="24.8171" height="24.8171" transform="matrix(-0.86601 0.500028 -3.18907e-05 1 68.502 18.8594)" fill="#EE5007"/><rect width="24.8171" height="24.8171" transform="matrix(-0.86601 -0.500028 3.18907e-05 1 47.0088 31.2695)" fill="#FF7442"/><rect width="24.8171" height="24.8171" transform="matrix(-0.866041 0.499972 0.866041 0.499972 47.0088 6.45312)" fill="#FB9E70"/><rect width="24.8171" height="24.8171" transform="matrix(3.19859e-05 1 0.86601 0.500028 25.5139 43.6797)" fill="#FF7442"/><rect width="24.8171" height="24.8171" transform="matrix(-0.866041 0.499973 0.866041 0.499972 25.5139 68.4922)" fill="#FB9E70"/><rect width="24.8171" height="24.8171" transform="matrix(-3.17834e-05 1 0.866009 -0.500028 4.02271 56.0898)" fill="#EE5007"/><rect width="24.8171" height="24.8171" transform="matrix(-0.86601 0.500028 -3.19781e-05 1 68.5042 93.3125)" fill="#EE5007"/><rect width="24.8171" height="24.8171" transform="matrix(-0.866009 -0.500028 3.18033e-05 1 47.011 105.723)" fill="#FF7442"/><rect width="24.8171" height="24.8171" transform="matrix(-0.866041 0.499972 0.866041 0.499973 47.011 80.9062)" fill="#FB9E70"/><rect width="24.8171" height="24.8171" transform="matrix(0.86601 -0.500028 3.18907e-05 -1 68.4985 118.141)" fill="#EE5007"/><rect width="24.8171" height="24.8171" transform="matrix(0.86601 0.500028 -3.18907e-05 -1 89.9917 105.73)" fill="#FF7442"/><rect width="24.8171" height="24.8171" transform="matrix(0.866041 -0.499972 -0.866041 -0.499972 89.9917 130.547)" fill="#FB9E70"/><rect width="24.8171" height="24.8171" transform="matrix(-0.86601 0.500028 -3.19781e-05 1 132.979 56.0859)" fill="#EE5007"/><rect width="24.8171" height="24.8171" transform="matrix(-0.866009 -0.500028 3.18033e-05 1 111.486 68.4961)" fill="#FF7442"/><rect width="24.8171" height="24.8171" transform="matrix(-0.866041 0.499972 0.866041 0.499973 111.486 43.6797)" fill="#FB9E70"/><rect width="24.8171" height="24.8171" transform="matrix(0.86601 -0.500028 3.18907e-05 -1 68.5002 43.6875)" fill="#EE5007"/><rect width="24.8171" height="24.8171" transform="matrix(0.86601 0.500028 -3.18907e-05 -1 89.9934 31.2773)" fill="#FF7442"/><rect width="24.8171" height="24.8171" transform="matrix(0.866041 -0.499972 -0.866041 -0.499972 89.9934 56.0938)" fill="#FB9E70"/></svg></span><span class="navbar-brand__name">Kairos</span></a>
  
  <button class="navbar-burger d-lg-none ms-auto" id="navbar-burger" aria-label="Toggle navigation" type="button" style="background:none;border:none;outline:none;">
    <span style="display:block;width:30px;height:3px;background:#fff;margin:4px 0;"></span>
    <span style="display:block;width:30px;height:3px;background:#fff;margin:4px 0;"></span>
    <span style="display:block;width:30px;height:3px;background:#fff;margin:4px 0;"></span>
  </button>
  
  <div class="td-navbar-nav-scroll ms-md-auto" id="main_navbar">
    <ul class="navbar-nav" id="navbar-links">
      <li class="nav-item">
        <a class="nav-link" href="/getting-started/"><span>Getting Started</span></a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/community/"><span>Community</span></a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/blog/"><span>Blog</span></a>
      </li>
      <li class="nav-item dropdown">
        <button class="btn btn-link nav-link dropdown-toggle d-flex align-items-center" id="distro-select" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" data-distro="rhel;roskylinux;9" aria-label="Toggle Flavor">
    Rockylinux 9
</button>
<ul class="dropdown-menu" aria-labelledby="bd-flavor-text">
    <li>
        <button type="button" class="dropdown-item d-flex align-items-center distro-option" data-distro="alpine;alpine;3.19" aria-pressed="false">
        Alpine 3.19
        </button>
    </li>
    <li>
        <button type="button" class="dropdown-item d-flex align-items-center distro-option" data-distro="debian;debian;bookworm" aria-pressed="false">
        Debian Bookworm
        </button>
    </li>
    <li>
        <button type="button" class="dropdown-item d-flex align-items-center distro-option" data-distro="debian;debian;testing" aria-pressed="false">
        Debian Testing
        </button>
    </li>
    <li>
        <button type="button" class="dropdown-item d-flex align-items-center distro-option" data-distro="rhel;fedora;40" aria-pressed="false">
        Fedora 40
        </button>
    </li>
    <li>
        <button type="button" class="dropdown-item d-flex align-items-center distro-option" data-distro="opensuse;opensuse;leap-15.6" aria-pressed="false">
        openSUSE Leap-15.6
        </button>
    </li>
    <li>
        <button type="button" class="dropdown-item d-flex align-items-center distro-option" data-distro="opensuse;opensuse;tumbleweed" aria-pressed="false">
        openSUSE Tumbleweed
        </button>
    </li>
    <li>
        <button type="button" class="dropdown-item d-flex align-items-center distro-option" data-distro="rhel;rockylinux;9" aria-pressed="true">
        Rockylinux 9
        </button>
    </li>
    <li>
        <button type="button" class="dropdown-item d-flex align-items-center distro-option" data-distro="ubuntu;ubuntu;24.10" aria-pressed="false">
        Ubuntu 24.10
        </button>
    </li>
    <li>
        <button type="button" class="dropdown-item d-flex align-items-center distro-option" data-distro="ubuntu;ubuntu;24.04" aria-pressed="false">
        Ubuntu 24.04
        </button>
    </li>
    <li>
        <button type="button" class="dropdown-item d-flex align-items-center distro-option" data-distro="ubuntu;ubuntu;22.04" aria-pressed="false">
        Ubuntu 22.04
        </button>
    </li>
    <li>
        <button type="button" class="dropdown-item d-flex align-items-center distro-option" data-distro="ubuntu;ubuntu;20.04" aria-pressed="false">
        Ubuntu 20.04
        </button>
    </li>
</ul> 
      </li>
      
      <li class="nav-item mr-4 mb-2 mb-lg-0 mt-lg-2 d-none d-lg-block">
        <li class="nav-item mr-4 mb-2 mb-lg-0 mt-lg-2">
    <a class="github-button" href="https://github.com/kairos-io/kairos" data-size="large" data-show-count="true" aria-label="Star kairos-io/kairos on GitHub">Star</a>
</li> 
      </li>
      <li class="td-light-dark-menu nav-item dropdown">
        <svg xmlns="http://www.w3.org/2000/svg" class="d-none">
  <symbol id="check2" viewBox="0 0 16 16">
    <path d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"/>
  </symbol>
  <symbol id="circle-half" viewBox="0 0 16 16">
    <path d="M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z"/>
  </symbol>
  <symbol id="moon-stars-fill" viewBox="0 0 16 16">
    <path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"/>
    <path d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"/>
  </symbol>
  <symbol id="sun-fill" viewBox="0 0 16 16">
    <path d="M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"/>
  </symbol>
</svg>

<button class="btn btn-link nav-link dropdown-toggle d-flex align-items-center"
        id="bd-theme"
        type="button"
        aria-expanded="false"
        data-bs-toggle="dropdown"
        data-bs-display="static"
        aria-label="Toggle theme (auto)">
  <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg>
</button>
<ul class="dropdown-menu dropdown-menu-end" aria-labelledby="bd-theme-text">
  <li>
    <button type="button" class="dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
      <svg class="bi me-2 opacity-50"><use href="#sun-fill"></use></svg>
      Light
      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg>
    </button>
  </li>
  <li>
    <button type="button" class="dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
      <svg class="bi me-2 opacity-50"><use href="#moon-stars-fill"></use></svg>
      Dark
      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg>
    </button>
  </li>
  <li>
    <button type="button" class="dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
      <svg class="bi me-2 opacity-50"><use href="#circle-half"></use></svg>
      Auto
      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg>
    </button>
  </li>
</ul>

      </li>
      </ul>
  </div>
  <div class="d-none d-lg-block">
    <div class="td-search td-search--offline">
  <div class="td-search__icon"></div>
  <input
    type="search"
    class="td-search__input form-control"
    placeholder="Search this site…"
    aria-label="Search this site…"
    autocomplete="off"
    
    data-offline-search-index-json-src="/offline-search-index.2cd40d81f421519107d8c788686e9696.json"
    data-offline-search-base-href="/"
    data-offline-search-max-results="10"
  >
</div>
  </div>
</div>
</nav>


<style>
   
  @media (max-width: 991.98px) {
     
    .navbar-burger {
      position: fixed;
      top: 12px;
      right: 16px;
      z-index: 3000;
      background: none;
      border: none;
      outline: none;
      padding: 0;
      width: 48px;
      height: 48px;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
    }
    #main_navbar {
      display: none;
    }
    #main_navbar.show-mobile-menu {
      display: block;
      position: fixed;
      top: 60px;  
      left: 0;
      width: 100vw;
      height: calc(100vh - 60px);  
      background: #03153A;
      z-index: 2000;
      overflow-y: auto;
      transition: all 0.3s;
    }
    #navbar-links {
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      padding: 2rem 1.5rem;
      width: 100%;
      height: 100%;
    }
    #navbar-links .nav-item {
      margin-bottom: 1.5rem;
      width: 100%;
    }
    #navbar-links .nav-link {
      width: 100%;
      font-size: 1.25rem;
    }
     
    .td-navbar-nav-scroll .dropdown-menu {
      position: absolute !important;
      left: 0 !important;
      right: auto !important;
      top: 100% !important;
      bottom: auto !important;
      min-width: 200px;
      margin-top: 0.5rem !important;  
      box-shadow: 0 2px 8px rgba(0,0,0,0.15);
    }
    .td-navbar-nav-scroll .nav-item.dropdown {
      position: relative !important;
    }
    .td-navbar-nav-scroll .nav-item.dropdown > .nav-link,
    .td-navbar-nav-scroll .nav-item.dropdown > a {
      margin-bottom: 0 !important;
      padding-bottom: 0 !important;
    }
  }
   
  @media (max-width: 991.98px) {
    #main_navbar.show-mobile-menu { display: block; }
  }
</style>
<script>
  document.addEventListener('DOMContentLoaded', function() {
    var burger = document.getElementById('navbar-burger');
    var navbar = document.getElementById('main_navbar');
    if (burger && navbar) {
      burger.addEventListener('click', function() {
        navbar.classList.toggle('show-mobile-menu');
      });
    }
  });
</script>
    </header>
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none">
            <div id="td-sidebar-menu" class="td-sidebar__inner">
  <div id="content-mobile">
  <form class="td-sidebar__search d-flex align-items-center">
    <div class="td-search td-search--offline">
  <div class="td-search__icon"></div>
  <input
    type="search"
    class="td-search__input form-control"
    placeholder="Search this site…"
    aria-label="Search this site…"
    autocomplete="off"
    
    data-offline-search-index-json-src="/offline-search-index.2cd40d81f421519107d8c788686e9696.json"
    data-offline-search-base-href="/"
    data-offline-search-max-results="10"
  >
</div>
    <button class="btn btn-link td-sidebar__toggle d-md-none p-0 ms-3 fas fa-bars" type="button" data-bs-toggle="collapse" data-bs-target="#td-section-nav" aria-controls="td-section-nav" aria-expanded="false" aria-label="Toggle section navigation">
    </button>
  </form>
  </div>
  <div id="content-desktop"></div>
  <nav class="td-sidebar-nav collapse td-sidebar-nav--search-disabled" id="td-section-nav">
    <ul class="td-sidebar-nav__section pe-md-3 ul-0">
      <li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id="m-docs-li">
  <a href="/docs/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section tree-root" id="m-docs"><span class="">Documentation</span></a>
  <ul class="ul-1">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsannouncements-li">
  <a href="/docs/announcements/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-docsannouncements"><i class="fa-solid fa-bullhorn"></i><span class="">Announcements</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-docsinstallation-li">
  <a href="/docs/installation/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-docsinstallation"><i class="fa-regular fa-computer"></i><span class="">Installation</span></a>
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsinstallationcheck-the-signatures-li">
  <a href="/docs/installation/check-the-signatures/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsinstallationcheck-the-signatures"><span class="">Check the Signatures</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsinstallationaws-li">
  <a href="/docs/installation/aws/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsinstallationaws"><span class="">Installation on AWS</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsinstallationinteractive-li">
  <a href="/docs/installation/interactive/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsinstallationinteractive"><span class="">Interactive</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsinstallationmanual-li">
  <a href="/docs/installation/manual/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsinstallationmanual"><span class="">Manual installation</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsinstallationqrcode-li">
  <a href="/docs/installation/qrcode/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsinstallationqrcode"><span class="">QR Code</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsinstallationwebui-li">
  <a href="/docs/installation/webui/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsinstallationwebui"><span class="">WebUI</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsinstallationazure-li">
  <a href="/docs/installation/azure/" title="Installation on Microsoft Azure" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsinstallationazure"><span class="">Installation on Azure</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsinstallationgce-li">
  <a href="/docs/installation/gce/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsinstallationgce"><span class="">Installation on Google Cloud</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsinstallationautomated-li">
  <a href="/docs/installation/automated/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsinstallationautomated"><span class="">Automated</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsinstallationbare-metal-li">
  <a href="/docs/installation/bare-metal/" title="Installing on Bare-Metal" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsinstallationbare-metal"><span class="">Bare-Metal</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsinstallationnvidia_agx_orin-li">
  <a href="/docs/installation/nvidia_agx_orin/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsinstallationnvidia_agx_orin"><span class="">Nvidia AGX Orin</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsinstallationraspberry-li">
  <a href="/docs/installation/raspberry/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsinstallationraspberry"><span class="">RaspberryPi</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsinstallationnetboot-li">
  <a href="/docs/installation/netboot/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsinstallationnetboot"><span class="">Network booting</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsinstallationp2p-li">
  <a href="/docs/installation/p2p/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsinstallationp2p"><span class="">P2P support</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsinstallationtrustedboot-li">
  <a href="/docs/installation/trustedboot/" title="Trusted Boot Installations" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsinstallationtrustedboot"><span class="">Trusted Boot</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsinstallationtakeover-li">
  <a href="/docs/installation/takeover/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsinstallationtakeover"><span class="">Takeover</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-docsupgrade-li">
  <a href="/docs/upgrade/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-docsupgrade"><i class="fa-regular fa-cloud-arrow-up"></i><span class="">Upgrade</span></a>
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsupgrademanual-li">
  <a href="/docs/upgrade/manual/" title="Manual Upgrades" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsupgrademanual"><span class="">Manual</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsupgradekubernetes-li">
  <a href="/docs/upgrade/kubernetes/" title="Upgrading from Kubernetes" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsupgradekubernetes"><span class="">From Kubernetes</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsupgradekairos-operator-li">
  <a href="/docs/upgrade/kairos-operator/" title="Installing Kairos Operator" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsupgradekairos-operator"><span class="">Kairos Operator</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsupgradesystem-upgrade-controller-li">
  <a href="/docs/upgrade/system-upgrade-controller/" title="Installing system-upgrade-controller (Deprecated)" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsupgradesystem-upgrade-controller"><span class="">System Upgrade Controller (Deprecated)</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsupgradetrustedboot-li">
  <a href="/docs/upgrade/trustedboot/" title="Trusted Boot Upgrades" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsupgradetrustedboot"><span class="">Trusted Boot</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsupgradeboot_assessment-li">
  <a href="/docs/upgrade/boot_assessment/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsupgradeboot_assessment"><span class="">Boot assessment</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-docsarchitecture-li">
  <a href="/docs/architecture/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-docsarchitecture"><i class="fa-regular fa-diagram-project"></i><span class="">Architecture</span></a>
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsarchitectureimmutable-li">
  <a href="/docs/architecture/immutable/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsarchitectureimmutable"><span class="">Immutable</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsarchitecturecontainer-li">
  <a href="/docs/architecture/container/" title="Container based" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsarchitecturecontainer"><span class="">Container</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsarchitecturesecureboot-li">
  <a href="/docs/architecture/secureboot/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsarchitecturesecureboot"><span class="">SecureBoot support</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsarchitecturecloud-init-li">
  <a href="/docs/architecture/cloud-init/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsarchitecturecloud-init"><span class="">Cloud init based</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsarchitecturemeta-li">
  <a href="/docs/architecture/meta/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsarchitecturemeta"><span class="">Meta-Distribution</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsarchitecturenetwork-li">
  <a href="/docs/architecture/network/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsarchitecturenetwork"><span class="">P2P Network</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsarchitecturetrustedboot-li">
  <a href="/docs/architecture/trustedboot/" title="Trusted Boot Architecture" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsarchitecturetrustedboot"><span class="">Trusted Boot</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-docsadvanced-li">
  <a href="/docs/advanced/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-docsadvanced"><i class="fa-regular fa-gear"></i><span class="">Advanced</span></a>
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsadvancedafter-install-li">
  <a href="/docs/advanced/after-install/" title="Pushing configuration to a node after installation" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsadvancedafter-install"><span class="">After install</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsadvancedconfiguring_partitions-li">
  <a href="/docs/advanced/configuring_partitions/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsadvancedconfiguring_partitions"><span class="">Configuring partitions</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsadvancedcreating_custom_cloud_images-li">
  <a href="/docs/advanced/creating_custom_cloud_images/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsadvancedcreating_custom_cloud_images"><span class="">Creating Custom Cloud Images</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsadvancedprivate_registry_auth-li">
  <a href="/docs/advanced/private_registry_auth/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsadvancedprivate_registry_auth"><span class="">Private registries authentication</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsadvancedcustomizing-li">
  <a href="/docs/advanced/customizing/" title="Customizing the system image" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsadvancedcustomizing"><span class="">Customization</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsadvancedbuild-li">
  <a href="/docs/advanced/build/" title="Build Kairos appliances" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsadvancedbuild"><span class="">Build</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsadvancedsys-extensions-li">
  <a href="/docs/advanced/sys-extensions/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsadvancedsys-extensions"><span class="">Extending the system with systemd extensions</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsadvancednetworking-li">
  <a href="/docs/advanced/networking/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsadvancednetworking"><span class="">Networking</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsadvancedadding_opt_to_system_extensions-li">
  <a href="/docs/advanced/adding_opt_to_system_extensions/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsadvancedadding_opt_to_system_extensions"><span class="">Using /opt with System Extensions</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsadvancedbundles-li">
  <a href="/docs/advanced/bundles/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsadvancedbundles"><span class="">Bundles</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsadvancedpartition_encryption-li">
  <a href="/docs/advanced/partition_encryption/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsadvancedpartition_encryption"><span class="">Encrypting User Data with Kairos</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsadvancedcoco-li">
  <a href="/docs/advanced/coco/" title="Confidential computing setup" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsadvancedcoco"><span class="">Confidential Computing</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsadvancedrevoking-secureboot-access-li">
  <a href="/docs/advanced/revoking-secureboot-access/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsadvancedrevoking-secureboot-access"><span class="">Revoking secure boot access</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-docsexamples-li">
  <a href="/docs/examples/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-docsexamples"><i class="fa-regular fa-file"></i><span class="">Examples</span></a>
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsexamplesboot_assessment_trusted_boot-li">
  <a href="/docs/examples/boot_assessment_trusted_boot/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsexamplesboot_assessment_trusted_boot"><span class="">Enabling Automatic Boot Assessment with Trusted Boot</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsexampleskubeadm-provider-li">
  <a href="/docs/examples/kubeadm-provider/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsexampleskubeadm-provider"><span class="">A Minimal Single-Node Kubernetes with Kubeadm</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsexamplesextra_persistent_paths_after_install-li">
  <a href="/docs/examples/extra_persistent_paths_after_install/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsexamplesextra_persistent_paths_after_install"><span class="">Adding persistent paths after install</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsexamplesairgap-li">
  <a href="/docs/examples/airgap/" title="How to Create an Airgap K3s Installation with Kairos" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsexamplesairgap"><span class="">Airgapped ISO</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsexamplesbandwidth-optimized-upgrades-li">
  <a href="/docs/examples/bandwidth-optimized-upgrades/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsexamplesbandwidth-optimized-upgrades"><span class="">Bandwidth Optimized Upgrades</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsexamplesbundles-li">
  <a href="/docs/examples/bundles/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsexamplesbundles"><span class="">Bundles</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsexamplestrusted-boot-firmware-sysext-li">
  <a href="/docs/examples/trusted-boot-firmware-sysext/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsexamplestrusted-boot-firmware-sysext"><span class="">Deploying kernel firmware via sysext on Trusted Boot</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsexampleskdump-li">
  <a href="/docs/examples/kdump/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsexampleskdump"><span class="">Enabling kdump</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsexamplesopenamt-li">
  <a href="/docs/examples/openamt/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsexamplesopenamt"><span class="">Intel Open AMT Registration</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsexampleskeylime-li">
  <a href="/docs/examples/keylime/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsexampleskeylime"><span class="">Keylime agent</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsexampleslocalai-li">
  <a href="/docs/examples/localai/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsexampleslocalai"><span class="">LocalAI</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsexamplesmulti-node-li">
  <a href="/docs/examples/multi-node/" title="Manual Multi-Node Cluster" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsexamplesmulti-node"><span class="">Manual multi-node cluster</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsexamplesha-li">
  <a href="/docs/examples/ha/" title="Manual Multi-Node High Availability Cluster" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsexamplesha"><span class="">Manual multi-node HA cluster</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsexamplessingle-node-li">
  <a href="/docs/examples/single-node/" title="Manual Single-Node Cluster" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsexamplessingle-node"><span class="">Manual single-node cluster</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsexamplesmetallb-li">
  <a href="/docs/examples/metallb/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsexamplesmetallb"><span class="">MetalLB</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsexamplesp2p_e2e-li">
  <a href="/docs/examples/p2p_e2e/" title="P2P Multi-Node Cluster Provisioned via Netboot" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsexamplesp2p_e2e"><span class="">P2P multi-node cluster netboot</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsexamplesk3s-stages-li">
  <a href="/docs/examples/k3s-stages/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsexamplesk3s-stages"><span class="">Run stages along with K3s</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsexamplessingle-node-p2p-li">
  <a href="/docs/examples/single-node-p2p/" title="Self-configured P2P Single-Node Cluster" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsexamplessingle-node-p2p"><span class="">Self-configured P2P single-node cluster</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsexamplesmulti-node-p2p-li">
  <a href="/docs/examples/multi-node-p2p/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsexamplesmulti-node-p2p"><span class="">Self-coordinating P2P multi-node cluster</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsexamplesmulti-node-p2p-ha-li">
  <a href="/docs/examples/multi-node-p2p-ha/" title="Self-coordinating P2P Multi-Node Cluster with High Availability" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsexamplesmulti-node-p2p-ha"><span class="">Self-coordinating P2P multi-node cluster HA</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsexamplesmulti-node-p2p-ha-kubevip-li">
  <a href="/docs/examples/multi-node-p2p-ha-kubevip/" title="Self-coordinating P2P Multi-Node Cluster with High Availability and KubeVIP" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsexamplesmulti-node-p2p-ha-kubevip"><span class="">Self-coordinating P2P multi-node cluster HA with KubeVIP</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsexamplesvirtual-box-li">
  <a href="/docs/examples/virtual-box/" title="Kairos&#39; Trusted Boot in Virtual Box" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsexamplesvirtual-box"><span class="">Trusted Boot in Virtual Box</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsexamplescore-li">
  <a href="/docs/examples/core/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsexamplescore"><span class="">Using Kairos Core Images as an Installer</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsexampleswifi-li">
  <a href="/docs/examples/wifi/" title="Configuring WiFi via Cloud-Config" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsexampleswifi"><span class="">WiFi</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id="m-docsreference-li">
  <a href="/docs/reference/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-docsreference"><i class="fa-regular fa-book"></i><span class="">Reference</span></a>
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsreferenceartifacts-li">
  <a href="/docs/reference/artifacts/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsreferenceartifacts"><span class="">Artifact Naming Convention</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsreferencearchitecture-li">
  <a href="/docs/reference/architecture/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsreferencearchitecture"><span class="">Architecture</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child active-path" id="m-docsreferenceauroraboot-li">
  <a href="/docs/reference/auroraboot/" class="align-left ps-0 active td-sidebar-link td-sidebar-link__page" id="m-docsreferenceauroraboot"><span class="td-sidebar-nav-active-item">AuroraBoot</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsreferenceconfiguration-li">
  <a href="/docs/reference/configuration/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsreferenceconfiguration"><span class="">Configuration</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsreferencestage_modules-li">
  <a href="/docs/reference/stage_modules/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsreferencestage_modules"><span class="">Stage modules</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsreferencekairosctl-li">
  <a href="/docs/reference/kairosctl/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsreferencekairosctl"><span class="">kairosctl</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsreferencereset-li">
  <a href="/docs/reference/reset/" title="Reset a node" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsreferencereset"><span class="">Reset</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsreferencekairos-factory-li">
  <a href="/docs/reference/kairos-factory/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsreferencekairos-factory"><span class="">The Kairos Factory</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsreferenceimage_matrix-li">
  <a href="/docs/reference/image_matrix/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsreferenceimage_matrix"><span class="">Image support matrix</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsreferencebuild-from-scratch-li">
  <a href="/docs/reference/build-from-scratch/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsreferencebuild-from-scratch"><span class="">Build Kairos from scratch</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsreferencebuild_raw_images_with_qemu-li">
  <a href="/docs/reference/build_raw_images_with_qemu/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsreferencebuild_raw_images_with_qemu"><span class="">Build Raw images with QEMU</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsreferencetroubleshooting-li">
  <a href="/docs/reference/troubleshooting/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsreferencetroubleshooting"><span class="">Troubleshooting</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsreferencerecovery_mode-li">
  <a href="/docs/reference/recovery_mode/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsreferencerecovery_mode"><span class="">Recovery mode</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsreferenceentangle-li">
  <a href="/docs/reference/entangle/" title="Entangle CRDs" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsreferenceentangle"><span class="">Entangle</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsreferencefaq-li">
  <a href="/docs/reference/faq/" title="FAQ" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsreferencefaq"><span class="">Frequently asked questions</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsreferencealerts-li">
  <a href="/docs/reference/alerts/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsreferencealerts"><span class="">Alerts Styling</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-docsdevelopment-li">
  <a href="/docs/development/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-docsdevelopment"><i class="fa-regular fa-terminal"></i><span class="">Development</span></a>
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsdevelopmentdevelopment-li">
  <a href="/docs/development/development/" title="Development notes" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsdevelopmentdevelopment"><span class="">Development</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsdevelopmentdebugging-station-li">
  <a href="/docs/development/debugging-station/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsdevelopmentdebugging-station"><span class="">Debugging station</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsdevelopmentnvidia-li">
  <a href="/docs/development/nvidia/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-docsdevelopmentnvidia"><span class="">Booting Kairos on Nvidia Jetson ARM</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsmedia-li">
  <a href="/docs/media/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-docsmedia"><i class="fa-regular fa-circle-play"></i><span class="">Media</span></a>
</li>
  </ul>
</li>
    </ul>
  </nav>
</div>

          </aside>
          <aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none">
            <div class="td-page-meta ms-2 pb-1 pt-2 mb-0">
<a href="https://github.com/kairos-io/kairos-docs/tree/main/content/en/docs/Reference/auroraboot.md" class="td-page-meta--view td-page-meta__view" target="_blank" rel="noopener"><i class="fa-solid fa-file-lines fa-fw"></i> View page source</a>
  <a href="https://github.com/kairos-io/kairos-docs/edit/main/content/en/docs/Reference/auroraboot.md" class="td-page-meta--edit td-page-meta__edit" target="_blank" rel="noopener"><i class="fa-solid fa-pen-to-square fa-fw"></i> Edit this page</a>
  <a href="https://github.com/kairos-io/kairos-docs/new/main/content/en/docs/Reference?filename=change-me.md&amp;value=---%0Atitle%3A&#43;%22Long&#43;Page&#43;Title%22%0AlinkTitle%3A&#43;%22Short&#43;Nav&#43;Title%22%0Aweight%3A&#43;100%0Adescription%3A&#43;%3E-%0A&#43;&#43;&#43;&#43;&#43;Page&#43;description&#43;for&#43;heading&#43;and&#43;indexes.%0A---%0A%0A%23%23&#43;Heading%0A%0AEdit&#43;this&#43;template&#43;to&#43;create&#43;your&#43;new&#43;page.%0A%0A%2A&#43;Give&#43;it&#43;a&#43;good&#43;name%2C&#43;ending&#43;in&#43;%60.md%60&#43;-&#43;e.g.&#43;%60getting-started.md%60%0A%2A&#43;Edit&#43;the&#43;%22front&#43;matter%22&#43;section&#43;at&#43;the&#43;top&#43;of&#43;the&#43;page&#43;%28weight&#43;controls&#43;how&#43;its&#43;ordered&#43;amongst&#43;other&#43;pages&#43;in&#43;the&#43;same&#43;directory%3B&#43;lowest&#43;number&#43;first%29.%0A%2A&#43;Add&#43;a&#43;good&#43;commit&#43;message&#43;at&#43;the&#43;bottom&#43;of&#43;the&#43;page&#43;%28%3C80&#43;characters%3B&#43;use&#43;the&#43;extended&#43;description&#43;field&#43;for&#43;more&#43;detail%29.%0A%2A&#43;Create&#43;a&#43;new&#43;branch&#43;so&#43;you&#43;can&#43;preview&#43;your&#43;new&#43;file&#43;and&#43;request&#43;a&#43;review&#43;via&#43;Pull&#43;Request.%0A" class="td-page-meta--child td-page-meta__child" target="_blank" rel="noopener"><i class="fa-solid fa-pen-to-square fa-fw"></i> Create child page</a>
  <a href="https://github.com/kairos-io/kairos-docs/issues/new?title=AuroraBoot" class="td-page-meta--issue td-page-meta__issue" target="_blank" rel="noopener"><i class="fa-solid fa-list-check fa-fw"></i> Create documentation issue</a>
  <a href="https://github.com/kairos-io/kairos/issues/new" class="td-page-meta--project td-page-meta__project-issue" target="_blank" rel="noopener"><i class="fa-solid fa-list-check fa-fw"></i> Create project issue</a>
  
</div>

            <div class="td-toc">
        <nav id="TableOfContents">
  <ul>
    <li><a href="#scope">Scope</a></li>
    <li><a href="#prerequisites">Prerequisites</a></li>
    <li><a href="#macos">MacOS</a></li>
    <li><a href="#windows">Windows</a></li>
    <li><a href="#overview">Overview</a>
      <ul>
        <li><a href="#network-based-bootstrapping">Network-based bootstrapping</a></li>
        <li><a href="#usb-based-bootstrapping">USB-based bootstrapping</a></li>
      </ul>
    </li>
    <li><a href="#configuration">Configuration</a>
      <ul>
        <li><a href="#cloud-config">Cloud config</a></li>
      </ul>
    </li>
    <li><a href="#examples">Examples</a>
      <ul>
        <li><a href="#offline-iso-build-from-local-container-image">Offline ISO build from local container image</a></li>
        <li><a href="#offline-iso-build-from-container-images">Offline ISO build from container images</a></li>
        <li><a href="#override-grub-config-file">Override GRUB config file</a></li>
        <li><a href="#prepare-iso-for-airgap-installations">Prepare ISO for Airgap installations</a></li>
        <li><a href="#netboot-with-core-images-from-github-releases">Netboot with core images from Github releases</a></li>
        <li><a href="#netboot-with-k3s-images-from-github-releases">Netboot with k3s images from Github releases</a></li>
        <li><a href="#netboot-from-container-images">Netboot from container images</a></li>
        <li><a href="#generate-raw-disk-images">Generate RAW disk images</a></li>
        <li><a href="#use-the-config-file">Use the config file</a></li>
      </ul>
    </li>
    <li><a href="#booting-with-uki-and-secure-boot-via-http-boot">Booting with UKI and Secure Boot via HTTP Boot</a></li>
    <li><a href="#how-it-works">How it Works</a></li>
    <li><a href="#preparing-the-boot-environment">Preparing the Boot Environment</a></li>
    <li><a href="#resources">Resources</a></li>
  </ul>
</nav>
      </div>
    
            

          </aside>
          <main class="col-12 col-md-9 col-xl-8 ps-md-5" role="main">
            





  
  <div class="pageinfo pageinfo-warning">
    <p>You are viewing the development docs which are in progress. There is no guarantee that the development documentation will be accurate, including instructions, links, and other information. For the latest stable documentation, click
      <a href="https://kairos.io//v3.5.2/docs" target="_blank">here</a>.</p>
  </div>


  


            <nav aria-label="breadcrumb" class="td-breadcrumbs">
  <ol class="breadcrumb">
  <li class="breadcrumb-item">
    <a href="/docs/">Documentation</a></li>
  <li class="breadcrumb-item">
    <a href="/docs/reference/">Reference</a></li>
  <li class="breadcrumb-item active" aria-current="page">
    AuroraBoot</li>
  </ol>
</nav>
            
<div class="td-content">
	<h1>AuroraBoot</h1>
	<div class="lead">Reference documentation for AuroraBoot, a tool for generating bootable images</div>
	<header class="article-meta">
		
</header>
	

<div class="alert alert-info" role="alert">
<h4 class="alert-heading">Note</h4>

    This is the reference documentation for AuroraBoot. For a complete guide on creating custom cloud images, including how to use AuroraBoot in the context of a full workflow, see <a href="https://kairos.io/docs/advanced/creating_custom_cloud_images/">Creating Custom Cloud Images</a>.

</div>

<p><strong>AuroraBoot</strong> is a tool designed to make the process of bootstrapping Kairos machines quick, simple and efficient. It is specifically designed for the Kairos operating system and provides a comprehensive solution for downloading required artifacts and provisioning a machine, both from network or manually via flashing to USB stick.</p>
<p>With AuroraBoot, you can prepare the environment for network-based bootstrapping, download the necessary release assets, and also customize the installation media for USB-based mass-installations. Whether you&rsquo;re looking to install Kairos on a single machine or multiple machines, AuroraBoot makes it easy and efficient.</p>
<p>AuroraBoot can be useful to:</p>
<ul>
<li>prepare multiple-nodes in a lab before shipment</li>
<li>offer a simple, intuitive and streamlined way to deploy Kairos automatically and manually</li>
<li>deploy Kairos nodes in a network segment where we can already send workload to (running AuroraBoot in an already-existing downstream cluster)</li>
<li>build artifacts of any type (isos, Trusted Boot, container upgrades, raw images, cloud images)</li>
</ul>
<p><img src="https://user-images.githubusercontent.com/2420543/217617696-f993a8e3-55ac-4d3e-98f0-c2317cb54cb9.png" alt="AuroraBoot"></p>
<h2 id="scope">Scope</h2>
<p><strong>AuroraBoot</strong> has the following scope:</p>
<ul>
<li><strong>Download</strong> release assets in order to provision one or more machines</li>
<li><strong>Prepare</strong> automatically the environment to boot from network</li>
<li><strong>Provision</strong> machines from network with a version of Kairos and cloud config</li>
<li><strong>Customize</strong> The installation media for installations from USB</li>
</ul>
<h2 id="prerequisites">Prerequisites</h2>
<ul>
<li><code>docker</code> or a container engine of your choice</li>
</ul>
<p>For netbooting:</p>
<ul>
<li>Port <code>8090</code>, <code>8080</code> and <code>67</code> free on the host running AuroraBoot</li>
<li>The machine running AuroraBoot have to be on the same network segment of the nodes to be bootstrapped</li>
<li>The nodes need to be configured to boot over network, or be capable of booting via USB for offline mode</li>
<li><code>ProxyDHCP</code> supported by the <code>DHCP</code> network attempting to netboot (see also <a href="https://github.com/danderson/netboot/blob/master/pixiecore/README.booting.md#step-1-dhcpproxydhcp">pixiecore architecture</a>).
There should be an already running <code>DHCP</code> server on your network. AuroraBoot doesn&rsquo;t take over the <code>DHCP</code> server, neither require you to do any specific configuration, however a <code>DHCP</code> server which is compliant to <code>ProxyDHCP</code> requests should be present in the same network running <strong>AuroraBoot</strong> and the machines to boot.</li>
</ul>
<h2 id="macos">MacOS</h2>
<p>Unfortunately for macOS systems we cannot run the netboot through docker as it&rsquo;s run inside a VM, as it can&rsquo;t see the host network.
Building ISOs still works as long as you mount the container <code>/tmp</code> disk to a local dir so its exported there like so:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">docker run --rm -ti -v <span class="s2">&#34;</span><span class="nv">$PWD</span><span class="s2">&#34;</span>/config.yaml:/config.yaml -v <span class="si">${</span><span class="nv">PWD</span><span class="si">}</span>:/tmp quay.io/kairos/auroraboot <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>                    --set <span class="s2">&#34;artifact_version=master&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>                    --set <span class="s2">&#34;release_version=master&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>                    --set <span class="s2">&#34;flavor=@flavor&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>                    --set <span class="s2">&#34;flavor_release=@flavorRelease&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>                    --set <span class="s2">&#34;repository=kairos-io/kairos&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>                    --set <span class="s2">&#34;disable_http_server=true&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>                    --set <span class="s2">&#34;disable_netboot=true&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>                    --cloud-config /config.yaml
</span></span></code></pre></div><p>This will build the ISO and put the generated artifacts in the current dir under the <code>${PWD}/iso</code> dir.</p>
<p>For netboot, we recommend that you run the AuroraBoot binary directly by grabbing it from the <a href="https://github.com/kairos-io/AuroraBoot/releases">releases page</a>.
This requires just one dependency that you can install via <a href="https://brew.sh/">brew</a> with <code>brew install xorriso</code></p>
<h2 id="windows">Windows</h2>
<p>Netboot in windows is not supported, only iso creation via the docker image.</p>
<h2 id="overview">Overview</h2>
<p>To run AuroraBoot, simply use <code>docker</code> or the container engine of your choice (such as <code>podman</code>, &hellip;). AuroraBoot images are published in <a href="https://quay.io/repository/kairos/auroraboot">quay</a> and the source code is available <a href="https://github.com/kairos-io/AuroraBoot">in GitHub</a>.</p>
<p>The basic usage of AuroraBoot involves passing it several parameters that define the installation environment, such as the version of Kairos you want to install, the cloud config you want to use, and other customizations you may need. You can pass these parameters either as command-line arguments, or as a full YAML configuration file.</p>
<p>AuroraBoot will download the artifacts required for bootstrapping the nodes, and prepare the environment required for a zero-touch deployment.</p>
<p>For example, to netboot a machine with the latest version of Kairos and <code class="meta-distro">@flavor</code> using a cloud config, you would run the following command:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">docker run --rm -ti --net host quay.io/kairos/auroraboot <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>                    --set <span class="s2">&#34;artifact_version=master&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>                    --set <span class="s2">&#34;release_version=master&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>                    --set <span class="s2">&#34;flavor=@flavor&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>                    --set <span class="nv">repository</span><span class="o">=</span><span class="s2">&#34;kairos-io/kairos&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>                    --cloud-config https://...
</span></span></code></pre></div><p>This command will download the necessary artifacts and start the provisioning process. The machine will attempt to boot from network, and will be configured with the specified version of Kairos.</p>
<h3 id="network-based-bootstrapping">Network-based bootstrapping</h3>
<p>By default AuroraBoot will automatically attempt to bootstrap other machines, which are configured to boot from network, within the same network. No further configuration or settings necessary.</p>
<p>There are only 3 steps involved in the process:</p>
<ol>
<li>Select the release of Kairos that you want to deploy and optionally a cloud config (see also our <a href="/docs/examples/">examples</a>)</li>
<li>Run AuroraBoot in your workstation with the appropriate CLI args</li>
<li>Boot up other nodes, already configured to boot from network</li>
</ol>
<h4 id="1-selecting-a-release">1. Selecting a release</h4>
<p>AuroraBoot can bootstrap container images or released assets from our GitHub release process.</p>
<p>To use GitHub releases set a release version with <code>--set release_version</code> (the GitHub release), an artifact version with <code>--set artifact_version</code> (the artifact version) a flavor with <code>--set flavor</code> and a repository with <code>--set repository</code>.
Kairos has releases with (standard) and without (core) k3s both can be downloaded in the <a href="https://github.com/kairos-io/kairos/releases">release page at kairos</a>.</p>
<p>To use a container image, you can use <a href="/docs/reference/image_matrix/">the Kairos released images</a> or <a href="/docs/advanced/customizing/">customized</a> by specifying <code>--set container_image</code> instead with the container image of choice.</p>
<h4 id="2-run-auroraboot">2. Run AuroraBoot</h4>
<p>Now we can run AuroraBoot with the version we selected, either from GitHub releases or directly from a container image.</p>
<p>In the example below we selected <code>master-k3sv1.33.4&#43;k3s1</code>, <code class="meta-distro">@flavor</code> flavor, so we would run either one of the following:</p>




<ul class="nav nav-tabs" id="tabs-12" role="tablist">
  <li class="nav-item">
      <button class="nav-link active"
          id="tabs-12-00-tab" data-bs-toggle="tab" data-bs-target="#tabs-12-00" role="tab"
          data-td-tp-persist="container image" aria-controls="tabs-12-00" aria-selected="true">
        Container image
      </button>
    </li><li class="nav-item">
      <button class="nav-link"
          id="tabs-12-01-tab" data-bs-toggle="tab" data-bs-target="#tabs-12-01" role="tab"
          data-td-tp-persist="container image, with dockerd" aria-controls="tabs-12-01" aria-selected="false">
        Container Image, with dockerd
      </button>
    </li><li class="nav-item">
      <button class="nav-link"
          id="tabs-12-02-tab" data-bs-toggle="tab" data-bs-target="#tabs-12-02" role="tab"
          data-td-tp-persist="github releases" aria-controls="tabs-12-02" aria-selected="false">
        Github releases
      </button>
    </li>
</ul>

<div class="tab-content" id="tabs-12-content">
    <div class="tab-body tab-pane fade show active"
        id="tabs-12-00" role="tabpanel" aria-labelled-by="tabs-12-00-tab" tabindex="12">
        <p>By indicating a <code>container_image</code>, AuroraBoot will pull the image locally and start to serve it for network booting.</p>
<p>You can use <a href="/docs/reference/image_matrix/">the Kairos released images</a> or <a href="/docs/advanced/customizing/">your own</a>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">docker run --rm -ti --net host quay.io/kairos/auroraboot <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>                    --set <span class="s2">&#34;container_image=quay.io/kairos/@flavor:@flavorRelease-standard-amd64-generic-master-k3sv1.33.4-k3s1&#34;</span>
</span></span></code></pre></div>
    </div>
    <div class="tab-body tab-pane fade"
        id="tabs-12-01" role="tabpanel" aria-labelled-by="tabs-12-01-tab" tabindex="12">
        <p>By indicating a <code>container_image</code> prefixed with <code>docker://</code>, AuroraBoot will pull the image from the local daemon and start to serve it for network booting.</p>
<p>This implies that the host has a docker daemon, and we have to give access to its socket with <code>-v /var/run/docker.sock:/var/run/docker.sock</code>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">docker pull quay.io/kairos/@flavor:@flavorRelease-standard-amd64-generic-master-k3sv1.33.4-k3s1
</span></span><span class="line"><span class="cl"><span class="c1"># This will use the container image from the host&#39;s docker daemon</span>
</span></span><span class="line"><span class="cl">docker run --rm -ti -v /var/run/docker.sock:/var/run/docker.sock --net host quay.io/kairos/auroraboot <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>                    --set <span class="s2">&#34;container_image=docker://quay.io/kairos/@flavor:@flavorRelease-standard-amd64-generic-master-k3sv1.33.4-k3s1&#34;</span>
</span></span></code></pre></div>
    </div>
    <div class="tab-body tab-pane fade"
        id="tabs-12-02" role="tabpanel" aria-labelled-by="tabs-12-02-tab" tabindex="12">
        <p>By indicating a <code>artifact_version</code>, a <code>release_version</code>, a <code>flavor</code> and a <code>repository</code>, AuroraBoot will use GitHub released assets.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">docker run --rm -ti --net host quay.io/kairos/auroraboot <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>                    --set <span class="s2">&#34;artifact_version=master-k3sv1.33.4-k3s1&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>                    --set <span class="s2">&#34;release_version=master&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>                    --set <span class="s2">&#34;flavor=@flavor&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>                    --set <span class="s2">&#34;flavor_release=@flavorRelease&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>                    --set <span class="s2">&#34;repository=kairos-io/provider-kairos&#34;</span>
</span></span></code></pre></div>
    </div>
</div>

<p>To specify a cloud config, you can set it with <code>--cloud-config</code>. See the sections below for further examples.</p>
<h4 id="3-start-nodes">3. Start nodes</h4>
<p>Generic hardware based netbooting is out of scope for this document.</p>
<p>Nodes need to be configured to boot over network, and after AuroraBoot is started should be ready to accept a connection, a typical output of a successfull run is:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">2023/02/08 14:27:30 DHCP: Offering to boot 08:00:27:54:1a:d1
</span></span><span class="line"><span class="cl">2023/02/08 14:27:30 TFTP: Sent <span class="s2">&#34;08:00:27:54:1a:d1/4&#34;</span> to 192.168.68.113:6489
</span></span><span class="line"><span class="cl">2023/02/08 14:27:36 DHCP: Offering to boot 08:00:27:54:1a:d1
</span></span><span class="line"><span class="cl">2023/02/08 14:27:36 HTTP: Sending ipxe boot script to 192.168.68.113:45435
</span></span><span class="line"><span class="cl">2023/02/08 14:27:36 HTTP: Sent file <span class="s2">&#34;kernel&#34;</span> to 192.168.68.113:45435
</span></span><span class="line"><span class="cl">2023/02/08 14:27:36 HTTP: Sent file <span class="s2">&#34;initrd-0&#34;</span> to 192.168.68.113:45435
</span></span><span class="line"><span class="cl">2023/02/08 14:27:49 HTTP: Sent file <span class="s2">&#34;other-0&#34;</span> to 192.168.68.113:43044
</span></span></code></pre></div><p>If trying on a VM, for instance on VirtualBox or QEMU, a typical setup might be:</p>
<ul>
<li>Set Netboot as first boot in the boot process order</li>
</ul>
<p><img src="https://user-images.githubusercontent.com/2420543/217587463-cd293842-575e-4484-aee5-de46c4f053fb.png" alt="Screenshot from 2023-02-08 10-37-59"></p>
<ul>
<li>Use bridge networking with the host (if running AuroraBoot and the VM in the same host)</li>
</ul>
<p><img src="https://user-images.githubusercontent.com/2420543/217587465-35486742-26a1-4971-bee0-3049d9ec329a.png" alt="Screenshot from 2023-02-08 10-38-05"></p>
<h3 id="usb-based-bootstrapping">USB-based bootstrapping</h3>
<p>AuroraBoot by default prepares an ISO with the custom cloud init prepared for being flashed to an USB stick either with <code>dd</code> or with <a href="https://www.balena.io/etcher">BalenaEtcher</a>.</p>
<p>To disable netboot and provide only offline artifacts, run <code>auroraboot</code> with <code>--set disable_netboot=true</code>.</p>
<h4 id="1-node-configuration">1. Node configuration</h4>
<p>Create a cloud config file, see <a href="/docs/examples/">our documentation</a> for ready-to use examples, but a minimal configuration that automatically installs, and allows us to login afterward can be the following:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="c">#cloud-config</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">install</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">auto</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">device</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;auto&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">reboot</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c"># Define the user accounts on the node.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">users</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">kairos                      </span><span class="w"> </span><span class="c"># The username for the user.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">passwd</span><span class="p">:</span><span class="w"> </span><span class="l">kairos                     </span><span class="w"> </span><span class="c"># The password for the user.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">groups</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">admin</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">ssh_authorized_keys</span><span class="p">:</span><span class="w">                  </span><span class="c"># A list of SSH keys to add to the user&#39;s authorized keys.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="c"># - github:mudler                       # A key from the user&#39;s GitHub account.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="c"># - &#34;ssh-rsa AAA...&#34;                    # A raw SSH key.</span><span class="w">
</span></span></span></code></pre></div><p>Save the file locally or remotely, you can pass it by in the arguments with <code>--cloud-config</code> to AuroraBoot. Note that can also be a remote http(s) path.</p>
<h4 id="2-create-an-offline-iso">2. Create an offline ISO</h4>
<p>Run AuroraBoot with a cloud-config to create an ISO with the embedded configuration:</p>



<ul class="nav nav-tabs" id="tabs-14" role="tablist">
  <li class="nav-item">
      <button class="nav-link active"
          id="tabs-14-00-tab" data-bs-toggle="tab" data-bs-target="#tabs-14-00" role="tab"
          data-td-tp-persist="container image" aria-controls="tabs-14-00" aria-selected="true">
        Container image
      </button>
    </li><li class="nav-item">
      <button class="nav-link"
          id="tabs-14-01-tab" data-bs-toggle="tab" data-bs-target="#tabs-14-01" role="tab"
          data-td-tp-persist="github releases" aria-controls="tabs-14-01" aria-selected="false">
        Github releases
      </button>
    </li>
</ul>

<div class="tab-content" id="tabs-14-content">
    <div class="tab-body tab-pane fade show active"
        id="tabs-14-00" role="tabpanel" aria-labelled-by="tabs-14-00-tab" tabindex="14">
        <p>Check we have the cloud config file:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">ls
</span></span><span class="line"><span class="cl"><span class="c1"># config.yaml</span>
</span></span></code></pre></div><p>Build the ISO:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">docker run -v <span class="s2">&#34;</span><span class="nv">$PWD</span><span class="s2">&#34;</span>/config.yaml:/config.yaml <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>                    -v <span class="s2">&#34;</span><span class="nv">$PWD</span><span class="s2">&#34;</span>/build:/tmp/auroraboot <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>                    --rm -ti quay.io/kairos/auroraboot <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>                    --set <span class="nv">container_image</span><span class="o">=</span>quay.io/kairos/@flavor:@flavorRelease-core-amd64-generic-master <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>                    --set <span class="s2">&#34;disable_http_server=true&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>                    --set <span class="s2">&#34;disable_netboot=true&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>                    --cloud-config /config.yaml <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>                    --set <span class="s2">&#34;state_dir=/tmp/auroraboot&#34;</span>
</span></span></code></pre></div><p>Results should be available under <code>build/</code> in the current directory:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo ls -liah build/iso
</span></span><span class="line"><span class="cl"><span class="c1">#</span>
</span></span><span class="line"><span class="cl"><span class="c1"># total 778M</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 34648528 drwx------ 2 root root 4.0K Feb  8 16:39 .</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 34648526 drwxr-xr-x 5 root root 4.0K Feb  8 16:38 ..</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 34648529 -rw-r--r-- 1 root root  253 Feb  8 16:38 config.yaml</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 34649370 -rw-r--r-- 1 root root 389M Feb  8 16:38 kairos.iso</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 34649372 -rw-r--r-- 1 root root 389M Feb  8 16:39 kairos.iso.custom.iso</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 34649371 -rw-r--r-- 1 root root   76 Feb  8 16:39 kairos.iso.sha256</span>
</span></span></code></pre></div>
    </div>
    <div class="tab-body tab-pane fade"
        id="tabs-14-01" role="tabpanel" aria-labelled-by="tabs-14-01-tab" tabindex="14">
        <p>Check we have the cloud config file:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">ls
</span></span><span class="line"><span class="cl"><span class="c1"># config.yaml</span>
</span></span></code></pre></div><p>Build the ISO:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">docker run -v <span class="s2">&#34;</span><span class="nv">$PWD</span><span class="s2">&#34;</span>/build:/tmp/auroraboot -v /var/run/docker.sock:/var/run/docker.sock --rm -ti quay.io/kairos/auroraboot <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>                    --set <span class="s2">&#34;artifact_version=master-k3sv1.33.4-k3s1&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>                    --set <span class="s2">&#34;release_version=master&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>                    --set <span class="s2">&#34;flavor=@flavor&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>                    --set <span class="s2">&#34;flavor_release=@flavorRelease&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>                    --set <span class="s2">&#34;repository=kairos-io/provider-kairos&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>                    --set <span class="s2">&#34;disable_http_server=true&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>                    --set <span class="s2">&#34;disable_netboot=true&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>                    --cloud-config /config.yaml <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>                    --set <span class="s2">&#34;state_dir=/tmp/auroraboot&#34;</span>
</span></span></code></pre></div><p>Results should be available under <code>build/</code> in the current directory:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo ls -liah build/iso
</span></span><span class="line"><span class="cl"><span class="c1">#</span>
</span></span><span class="line"><span class="cl"><span class="c1"># total 778M</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 34648528 drwx------ 2 root root 4.0K Feb  8 16:39 .</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 34648526 drwxr-xr-x 5 root root 4.0K Feb  8 16:38 ..</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 34648529 -rw-r--r-- 1 root root  253 Feb  8 16:38 config.yaml</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 34649370 -rw-r--r-- 1 root root 389M Feb  8 16:38 kairos.iso</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 34649372 -rw-r--r-- 1 root root 389M Feb  8 16:39 kairos.iso.custom.iso</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 34649371 -rw-r--r-- 1 root root   76 Feb  8 16:39 kairos.iso.sha256</span>
</span></span></code></pre></div>
    </div>
</div>

<p>The result process will write an iso <code>kairos.iso.custom.iso</code> under <code>build/iso</code>. That is the iso with our embedded cloud-config.</p>
<h4 id="2-run-the-image">2. Run the image</h4>
<p>The iso now is ready to be written to USB stick with either <code>dd</code> or with <a href="https://www.balena.io/etcher">BalenaEtcher</a>, or attached to a VM.</p>

  
  
  
<ul class="nav nav-tabs justify-content-end" id="tabs-15" role="tablist">
  <li class="nav-item">
      <button class="nav-link disabled"
          id="tabs-15-00-tab" data-bs-toggle="tab" data-bs-target="#tabs-15-00" role="tab"
          aria-controls="tabs-15-00" aria-selected="false">
        <strong>Machine</strong>:
      </button>
    </li><li class="nav-item">
      <button class="nav-link active"
          id="tabs-15-01-tab" data-bs-toggle="tab" data-bs-target="#tabs-15-01" role="tab"
          data-td-tp-persist="bare-metal" aria-controls="tabs-15-01" aria-selected="true">
        Bare-Metal
      </button>
    </li><li class="nav-item">
      <button class="nav-link"
          id="tabs-15-02-tab" data-bs-toggle="tab" data-bs-target="#tabs-15-02" role="tab"
          data-td-tp-persist="qemu" aria-controls="tabs-15-02" aria-selected="false">
        QEMU
      </button>
    </li>
</ul>

<div class="tab-content" id="tabs-15-content">
    <div class="tab-body tab-pane fade"
        id="tabs-15-00" role="tabpanel" aria-labelled-by="tabs-15-00-tab" tabindex="15">
        
    </div>
    <div class="tab-body tab-pane fade show active"
        id="tabs-15-01" role="tabpanel" aria-labelled-by="tabs-15-01-tab" tabindex="15">
        <p>When deploying on a bare metal server, directly flash the image into a USB stick. There are multiple ways to do this:</p>
<p><strong>From the command line using the <code>dd</code> command</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">dd <span class="k">if</span><span class="o">=</span>build/kairos.iso.custom.iso <span class="nv">of</span><span class="o">=</span>/path/to/dev <span class="nv">bs</span><span class="o">=</span>4MB
</span></span></code></pre></div><p>or with <a href="https://www.balena.io/etcher">BalenaEtcher</a>.</p>

    </div>
    <div class="tab-body tab-pane fade"
        id="tabs-15-02" role="tabpanel" aria-labelled-by="tabs-15-02-tab" tabindex="15">
        
    

<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Warning</h4>

    <pre><code>Make sure you have KVM enabled, this will improve the performance of your VM significantly!
</code></pre>


</div>


    This would be the way to start it via the command line, but you can also use the GUI

    <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">  virt-install --name my-first-kairos-vm <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>              --vcpus <span class="m">1</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>              --memory <span class="m">1024</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>              --cdrom build/kairos.iso.custom.iso <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>              --disk <span class="nv">size</span><span class="o">=</span><span class="m">30</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>              --os-variant opensuse-factory <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>              --virt-type kvm</span></span></code></pre></div>
    Immediately after open a viewer so you can interact with the boot menu:
    <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">virt-viewer my-first-kairos-vm</span></span></code></pre></div>

  
    </div>
</div>

<h2 id="configuration">Configuration</h2>
<p>The AuroraBoot configuration file reference is the following:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="c"># Corresponding artifact versions from the kairos release page (e.g. kubernetes version included)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">artifact_version</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;v...&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c"># Version of the release in github</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">release_version</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;master&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c"># Flavor</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">flavor</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;@flavor&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c"># Github repository</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">repository</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;kairos-io/kairos&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c"># Container image (takes over)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">container_image</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;...&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c"># Disable netboot</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">disable_netboot</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c"># Disable http server for serving offline generated ISOs</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">disable_http_server</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c"># Specify a directory that will be used by auroraboot to download artifacts</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c"># Reuse the same to cache artifacts.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">state_dir</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;/tmp/auroraboot&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c"># Default http binding port for offline ISO generation</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">listen_addr</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;:8080&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c"># Cloud config to use when booting the machine.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">cloud_config</span><span class="p">:</span><span class="w"> </span><span class="l">|</span><span class="w">
</span></span></span></code></pre></div><table>
  <thead>
      <tr>
          <th>Option</th>
          <th>Description</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>artifact_version</code></td>
          <td>Corresponding artifact versions from the Kairos release page (e.g. Kubernetes version included).</td>
      </tr>
      <tr>
          <td><code>release_version</code></td>
          <td>Version of the release in GitHub.</td>
      </tr>
      <tr>
          <td><code>flavor</code></td>
          <td>The Kairos flavor to use. See <a href="/docs/reference/image_matrix/">the Kairos support matrix</a> for a list.</td>
      </tr>
      <tr>
          <td><code>repository</code></td>
          <td>Github repository to use. This can either be <code>kairos-io/kairos</code> or <code>kairos-io/provider-kairos</code> for images with <code>k3s</code> prior to v2.4.0.</td>
      </tr>
      <tr>
          <td><code>container_image</code></td>
          <td>Container image. If prefixed with <code>docker://</code> it will try to pull from the local docker daemon. If a <code>container_image</code> is specified, <code>artifact_version</code>, <code>flavor</code> and <code>release_version</code> are ignored.</td>
      </tr>
      <tr>
          <td><code>disable_netboot</code></td>
          <td>Disable netboot.</td>
      </tr>
      <tr>
          <td><code>disable_http_server</code></td>
          <td>Disable http server for serving offline generated ISOs.</td>
      </tr>
      <tr>
          <td><code>netboot_http_port</code></td>
          <td>Specify a netboot HTTP port (defaults to <code>8090</code>).</td>
      </tr>
      <tr>
          <td><code>state_dir</code></td>
          <td>Specify a directory that will be used by auroraboot to download artifacts and reuse the same to cache artifacts.</td>
      </tr>
      <tr>
          <td><code>listen_addr</code></td>
          <td>Default http binding port for offline ISO generation.</td>
      </tr>
      <tr>
          <td><code>cloud_config</code></td>
          <td>Cloud config path to use for the machines. A URL can be specified, use <code>-</code> to pass-by the cloud-config from <em>STDIN</em></td>
      </tr>
      <tr>
          <td><code>iso.data</code></td>
          <td>Defines a path to be embedded into the resulting iso. When booting, the files will be accessible at <code>/run/initramfs/live</code></td>
      </tr>
      <tr>
          <td><code>netboot.cmdline</code></td>
          <td>Override the automatically generated cmdline with a custom one to use during netboot. <code>config_url</code> and <code>rootfs</code>  are automatically constructed. A reasonable value can be <code>netboot.cmdline=rd.neednet=1 ip=dhcp rd.cos.disable netboot install-mode console=tty0</code></td>
      </tr>
      <tr>
          <td><code>disk.state_size</code></td>
          <td>Set the minimum size (in MB) for the state partition in raw disk images. By default, the state partition is sized to 3 times the size of the current image plus some additional space for system files. Use this option to override the default size if you need to accommodate larger future images.</td>
      </tr>
      <tr>
          <td><code>disk.efi</code></td>
          <td>Generate an EFI-compatible raw disk image (suitable for AWS and QEMU). When set to <code>true</code>, the image will be created with EFI boot support.</td>
      </tr>
      <tr>
          <td><code>disk.size</code></td>
          <td>Set the final size (in MB) of the generated disk image. By default, the image size is calculated based on the actual data size. Use this option to create a larger disk image (e.g. <code>disk.size=16000</code> will create a 16GB image).</td>
      </tr>
      <tr>
          <td><code>disk.bios</code></td>
          <td>Generate a BIOS-compatible raw disk image. When set to <code>true</code>, the image will be created with legacy BIOS boot support instead of EFI.</td>
      </tr>
      <tr>
          <td><code>disk.vhd</code></td>
          <td>Generate an Azure-compatible VHD image. When set to <code>true</code>, the image will be created in VHD format suitable for Azure cloud platform.</td>
      </tr>
      <tr>
          <td><code>disk.gce</code></td>
          <td>Generate a Google Cloud Engine (GCE) compatible image. When set to <code>true</code>, the image will be created in a format suitable for Google Cloud Platform.</td>
      </tr>
      <tr>
          <td>To use the configuration file with AuroraBoot, run AuroraBoot specifying the file or URL of the config as first argument:</td>
          <td></td>
      </tr>
  </tbody>
</table>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">docker run --rm -ti -v <span class="s2">&#34;</span><span class="nv">$PWD</span><span class="s2">&#34;</span>/config.yaml:/config.yaml --net host quay.io/kairos/auroraboot /config.yaml
</span></span></code></pre></div><p>The CLI options can be used in place of specifying a file, and to set fields of it. Any field of the YAML file, excluding <code>cloud_config</code> can be configured with the <code>--set</code> for instance, to disable netboot we can run AuroraBoot with:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">docker run --rm -ti --net host quay.io/kairos/auroraboot ....  --set <span class="s2">&#34;disable_netboot=true&#34;</span>
</span></span></code></pre></div><p>To specify a cloud config file instead, use <code>--cloud-config</code> (can be also url):</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">docker run --rm -ti -v <span class="s2">&#34;</span><span class="nv">$PWD</span><span class="s2">&#34;</span>/config.yaml:/config.yaml --net host quay.io/kairos/auroraboot .... --cloud-config /config.yaml
</span></span></code></pre></div><p>Both the config file and the cloud-config file can be a URL.</p>
<h3 id="cloud-config">Cloud config</h3>
<p>A custom cloud configuration file can be passed either with the <code>--cloud-config</code> flag, or in the AuroraBoot configuration file under the <code>cloud_config</code> key.</p>
<p>It is possible to apply templating to a cloud config. Indeed any value passed to <code>--set</code> is accessible as a template in the cloud config file with the <code>[[</code> and <code>]]</code> delimiter, for instance consider the following cloud config file, which allows to set a password for the <code>kairos</code> user and a GitHub handle allowed to login to the machine:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="c">#cloud-config</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">install</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">auto</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">device</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;auto&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">reboot</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c"># Define the user accounts on the node.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">users</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;kairos&#34;</span><span class="w">                       </span><span class="c"># The username for the user.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">passwd</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;[[.kairos.password]]&#34;</span><span class="w">                      </span><span class="c"># The password for the user.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">groups</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">admin</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">ssh_authorized_keys</span><span class="p">:</span><span class="w">                  </span><span class="c"># A list of SSH keys to add to the user&#39;s authorized keys.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">github:[[.github.user]]</span><span class="w">
</span></span></span></code></pre></div><p>We would then set the user to <code>mudler</code> and the password to <code>foobar</code> when running AuroraBoot like the following:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">docker run --rm -ti -v <span class="s2">&#34;</span><span class="nv">$PWD</span><span class="s2">&#34;</span>/config.yaml:/config.yaml --net host <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>                                quay.io/kairos/auroraboot <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>                                --cloud-config /config.yaml <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>                                --set <span class="s2">&#34;github.user=mudler&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>                                --set <span class="s2">&#34;kairos.password=foobar&#34;</span>
</span></span></code></pre></div><p>Config files can be also hosted remotely, and given as URLs to AuroraBoot.</p>
<p>We can indeed use the template in the example folder with the command above:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">docker run --rm -ti --net host <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>                        quay.io/kairos/auroraboot <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>                        --cloud-config https://raw.githubusercontent.com/kairos-io/kairos/master/examples/auroraboot/master-template.yaml <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>                        --set <span class="s2">&#34;github.user=mudler&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>                        --set <span class="s2">&#34;kairos.password=foobar&#34;</span>
</span></span></code></pre></div><p>To pass-by a cloud-config via pipes, set <code>--cloud-config -</code>, for example:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="l">cat &lt;&lt;EOF | docker run --rm -i --net host quay.io/kairos/auroraboot \</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                    </span>--<span class="l">cloud-config - \</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                    </span>--<span class="l">set &#34;container_image=quay.io/kairos/@flavor:@flavorRelease-standard-amd64-generic-master-k3sv1.33.4-k3s1&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c">#cloud-config</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">install</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> </span><span class="nt">device</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;auto&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> </span><span class="nt">auto</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> </span><span class="nt">reboot</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">hostname</span><span class="p">:</span><span class="w"> </span><span class="l">metal-bundle-test-{{ trunc 4 .MachineID }}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">users</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">kairos</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="c"># Change to your pass here</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">passwd</span><span class="p">:</span><span class="w"> </span><span class="l">kairos</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">groups</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">admin</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">ssh_authorized_keys</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="c"># Replace with your github user and un-comment the line below:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">github:mudler</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">k3s</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c"># Specify the bundle to use</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">bundles</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span>- <span class="nt">targets</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">run://quay.io/kairos/community-bundles:cert-manager_latest</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">run://quay.io/kairos/community-bundles:kairos_latest</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">kairos</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">entangle</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">enable</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="l">EOF</span><span class="w">
</span></span></span></code></pre></div><h2 id="examples">Examples</h2>


<div class="alert alert-success" role="alert">
<h4 class="alert-heading">Note</h4>

    The example below are implying a <code>config.yaml</code> cloud config file to be present in the current directory.

</div>

<h3 id="offline-iso-build-from-local-container-image">Offline ISO build from local container image</h3>
<p>First make sure we have the image locally with:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">docker pull &lt;IMAGE&gt;
</span></span></code></pre></div><p>Build the custom ISO with the cloud config:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">docker run -v <span class="s2">&#34;</span><span class="nv">$PWD</span><span class="s2">&#34;</span>/config.yaml:/config.yaml <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>             -v <span class="s2">&#34;</span><span class="nv">$PWD</span><span class="s2">&#34;</span>/build:/tmp/auroraboot <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>             -v /var/run/docker.sock:/var/run/docker.sock <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>             --rm -ti quay.io/kairos/auroraboot <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>             --set <span class="nv">container_image</span><span class="o">=</span>docker://&lt;IMAGE&gt; <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>             --set <span class="s2">&#34;disable_http_server=true&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>             --set <span class="s2">&#34;disable_netboot=true&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>             --cloud-config /config.yaml <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>             --set <span class="s2">&#34;state_dir=/tmp/auroraboot&#34;</span>
</span></span></code></pre></div><h3 id="offline-iso-build-from-container-images">Offline ISO build from container images</h3>
<p>Build the custom ISO with the cloud config:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">docker run -v <span class="s2">&#34;</span><span class="nv">$PWD</span><span class="s2">&#34;</span>/config.yaml:/config.yaml <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>             -v <span class="s2">&#34;</span><span class="nv">$PWD</span><span class="s2">&#34;</span>/build:/tmp/auroraboot <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>             --rm -ti quay.io/kairos/auroraboot <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>             --set <span class="nv">container_image</span><span class="o">=</span>quay.io/kairos/@flavor:@flavorRelease-core-amd64-generic-master <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>             --set <span class="s2">&#34;disable_http_server=true&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>             --set <span class="s2">&#34;disable_netboot=true&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>             --cloud-config /config.yaml <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>             --set <span class="s2">&#34;state_dir=/tmp/auroraboot&#34;</span>
</span></span></code></pre></div><h3 id="override-grub-config-file">Override GRUB config file</h3>
<p>It is possible to override the default GRUB config file of the ISO by creating a directory that
contains the files that we want to add or replace in it.</p>
<p>For example, to override the GRUB config file:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">mkdir -p data/boot/grub2
</span></span><span class="line"><span class="cl"><span class="c1"># You can replace this step with your own grub config. This GRUB configuration is the boot menu of the ISO</span>
</span></span><span class="line"><span class="cl">wget https://raw.githubusercontent.com/kairos-io/packages/main/packages/livecd/grub2/config/grub_live_bios.cfg -O data/boot/grub2/grub.cfg
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">docker run -v <span class="s2">&#34;</span><span class="nv">$PWD</span><span class="s2">&#34;</span>/config.yaml:/config.yaml <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>             -v <span class="s2">&#34;</span><span class="nv">$PWD</span><span class="s2">&#34;</span>/data:/tmp/data <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>             -v <span class="s2">&#34;</span><span class="nv">$PWD</span><span class="s2">&#34;</span>/build:/tmp/auroraboot <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>             --rm -ti quay.io/kairos/auroraboot <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>             --set <span class="nv">container_image</span><span class="o">=</span>quay.io/kairos/@flavor:@flavorRelease-core-amd64-generic-master <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>             --set <span class="s2">&#34;disable_http_server=true&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>             --set <span class="s2">&#34;disable_netboot=true&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>             --cloud-config /config.yaml <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>             --set <span class="s2">&#34;state_dir=/tmp/auroraboot&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>             --set <span class="s2">&#34;iso.data=/tmp/data&#34;</span>
</span></span></code></pre></div><h3 id="prepare-iso-for-airgap-installations">Prepare ISO for Airgap installations</h3>
<p>See the <a href="/docs/examples/airgap/">Airgap example</a> in the <a href="/docs/examples/">examples section</a>.</p>
<h3 id="netboot-with-core-images-from-github-releases">Netboot with core images from Github releases</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">docker run -v <span class="s2">&#34;</span><span class="nv">$PWD</span><span class="s2">&#34;</span>/config.yaml:/config.yaml --rm -ti --net host quay.io/kairos/auroraboot <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>        --set <span class="s2">&#34;artifact_version=master&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>        --set <span class="s2">&#34;release_version=master&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>        --set <span class="s2">&#34;flavor=@flavor&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>        --set <span class="nv">repository</span><span class="o">=</span><span class="s2">&#34;kairos-io/kairos&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>        --cloud-config /config.yaml
</span></span></code></pre></div><h3 id="netboot-with-k3s-images-from-github-releases">Netboot with k3s images from Github releases</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">docker run -v <span class="s2">&#34;</span><span class="nv">$PWD</span><span class="s2">&#34;</span>/config.yaml:/config.yaml --rm -ti --net host quay.io/kairos/auroraboot <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>        --set <span class="s2">&#34;artifact_version=master-k3sv1.33.4-k3s1&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>        --set <span class="s2">&#34;release_version=master&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>        --set <span class="s2">&#34;flavor=@flavor&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>        --set <span class="s2">&#34;flavor_release=@flavorRelease&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>        --set <span class="s2">&#34;repository=kairos-io/provider-kairos&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>        --cloud-config /config.yaml
</span></span></code></pre></div><h3 id="netboot-from-container-images">Netboot from container images</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">docker run -v <span class="s2">&#34;</span><span class="nv">$PWD</span><span class="s2">&#34;</span>/config.yaml:/config.yaml --rm -ti --net host quay.io/kairos/auroraboot <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>        --set <span class="nv">container_image</span><span class="o">=</span>quay.io/kairos/@flavor:@flavorRelease-core-amd64-generic-master
</span></span><span class="line"><span class="cl">        --cloud-config /config.yaml
</span></span></code></pre></div><h3 id="generate-raw-disk-images">Generate RAW disk images</h3>


<div class="alert alert-success" role="alert">
<h4 class="alert-heading">Note</h4>

    This method differs from the ones documented in the <a href="https://kairos.io/docs/reference/build_raw_images_with_qemu/">Build raw images with QEMU</a> section: this method is suitable if you need to create appliances that have to run a full-installation. AuroraBoot will create instead images pre-installed which will skip the usual Kairos installation process in runtime

</div>

<p>Consider the following example:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">docker run --privileged -v /var/run/docker.sock:/var/run/docker.sock <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -v <span class="nv">$PWD</span>:/aurora --rm -ti quay.io/kairos/auroraboot <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --debug <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --set <span class="s2">&#34;disable_http_server=true&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --set <span class="s2">&#34;disable_netboot=true&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --set <span class="s2">&#34;disk.efi=true&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --set <span class="s2">&#34;container_image=quay.io/kairos/@flavor:@flavorRelease-standard-amd64-generic-master-k3sv1.33.4-k3s1&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --set <span class="s2">&#34;state_dir=/aurora&#34;</span>
</span></span></code></pre></div><p>The raw disk image will be available in the current directory with the <code>.raw</code> image extension. By default, the state partition will be sized to 3 times the size of the current image plus some additional space for system files.</p>
<p>If you need to ensure the state partition can accommodate larger future images, you can override the default size with <code>disk.state_size</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">docker run --privileged -v /var/run/docker.sock:/var/run/docker.sock <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -v <span class="nv">$PWD</span>:/aurora --rm -ti quay.io/kairos/auroraboot <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --debug <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --set <span class="s2">&#34;disable_http_server=true&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --set <span class="s2">&#34;disable_netboot=true&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --set <span class="s2">&#34;disk.efi=true&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --set <span class="s2">&#34;disk.state_size=6000&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --set <span class="s2">&#34;container_image=quay.io/kairos/@flavor:@flavorRelease-standard-amd64-generic-master-k3sv1.33.4-k3s1&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --set <span class="s2">&#34;state_dir=/aurora&#34;</span>
</span></span></code></pre></div><p>To generate a BIOS raw image just change <code>disk.efi=true</code> for <code>disk.bios=true</code></p>
<p>To generate GCE and VHD images set <code>disk.gce=true</code> or <code>disk.vhd=true</code> respectively in the AuroraBoot command. For example:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># Build a GCE-compatible image</span>
</span></span><span class="line"><span class="cl">docker run --privileged -v /var/run/docker.sock:/var/run/docker.sock <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -v <span class="nv">$PWD</span>:/aurora --rm -ti quay.io/kairos/auroraboot <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --debug <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --set <span class="s2">&#34;disable_http_server=true&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --set <span class="s2">&#34;container_image=quay.io/kairos/@flavor:@flavorRelease-standard-amd64-generic-master-k3sv1.33.4-k3s1&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --set <span class="s2">&#34;disable_netboot=true&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --cloud-config /aurora/config.yaml <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --set <span class="s2">&#34;disk.gce=true&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --set <span class="s2">&#34;state_dir=/aurora&#34;</span>
</span></span></code></pre></div><p>or for VHD images:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># Build a VHD image compatible with Azure</span>
</span></span><span class="line"><span class="cl">docker run --privileged -v /var/run/docker.sock:/var/run/docker.sock <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -v <span class="nv">$PWD</span>:/aurora --rm -ti quay.io/kairos/auroraboot <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --debug <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --set <span class="s2">&#34;disable_http_server=true&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --set <span class="s2">&#34;container_image=quay.io/kairos/@flavor:@flavorRelease-standard-amd64-generic-master-k3sv1.33.4-k3s1&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --set <span class="s2">&#34;disable_netboot=true&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --cloud-config /aurora/config.yaml <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --set <span class="s2">&#34;disk.vhd=true&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --set <span class="s2">&#34;state_dir=/aurora&#34;</span>
</span></span></code></pre></div>

<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Note</h4>

    Note that for creating raw images, the <code>--privileged</code> flag is used as the process creates loop devices, which
requires elevated privileges. This is not needed for the other methods of using AuroraBoot.

</div>

<h3 id="use-the-config-file">Use the config file</h3>
<p>Write down an aurora config file as <code>aurora.yaml</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">container_image</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;quay.io/kairos/@flavor:@flavorRelease-core-amd64-generic-master&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">cloud_config</span><span class="p">:</span><span class="w"> </span><span class="p">|</span><span class="sd">
</span></span></span><span class="line"><span class="cl"><span class="sd">    #cloud-config
</span></span></span><span class="line"><span class="cl"><span class="sd">
</span></span></span><span class="line"><span class="cl"><span class="sd">    install:
</span></span></span><span class="line"><span class="cl"><span class="sd">    auto: true
</span></span></span><span class="line"><span class="cl"><span class="sd">    device: &#34;auto&#34;
</span></span></span><span class="line"><span class="cl"><span class="sd">    reboot: true
</span></span></span><span class="line"><span class="cl"><span class="sd">
</span></span></span><span class="line"><span class="cl"><span class="sd">    # Define the user accounts on the node.
</span></span></span><span class="line"><span class="cl"><span class="sd">    users:
</span></span></span><span class="line"><span class="cl"><span class="sd">    - name: kairos                       # The username for the user.
</span></span></span><span class="line"><span class="cl"><span class="sd">      passwd: kairos                      # The password for the user.
</span></span></span><span class="line"><span class="cl"><span class="sd">      groups:
</span></span></span><span class="line"><span class="cl"><span class="sd">      - admin
</span></span></span><span class="line"><span class="cl"><span class="sd">    ssh_authorized_keys:                  # A list of SSH keys to add to the user&#39;s authorized keys.
</span></span></span><span class="line"><span class="cl"><span class="sd">    # - github:mudler                       # A key from the user&#39;s GitHub account.
</span></span></span><span class="line"><span class="cl"><span class="sd">    # - &#34;ssh-rsa AAA...&#34;                    # A raw SSH key.</span><span class="w">
</span></span></span></code></pre></div><p>And then run:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">docker run -v <span class="s2">&#34;</span><span class="nv">$PWD</span><span class="s2">&#34;</span>/aurora.yaml:/aurora.yaml --rm -ti --net host quay.io/kairos/auroraboot /aurora.yaml
</span></span></code></pre></div><h2 id="booting-with-uki-and-secure-boot-via-http-boot">Booting with UKI and Secure Boot via HTTP Boot</h2>


<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Version support</h4>

    This feature is available on AuroraBoot v0.8.1 and later, and requires Kairos version 3.5.x or higher.
Currently, only HTTP boot has been tested and validated for this setup. PXE booting with UKI and Secure Boot is not yet supported and probably wont be.

</div>

<p>AuroraBoot supports netbooting <strong>Trusted Boot Images (UKI)</strong>. This process relies on using HTTP Boot to enroll the necessary keys and boot the UKI ISO directly as a virtual CDROM which is a UEFI 2.5 feature.</p>
<h2 id="how-it-works">How it Works</h2>


<div class="alert alert-info" role="alert">
<h4 class="alert-heading">Info</h4>

    To use this feature, the machine needs to start in &ldquo;setup&rdquo; mode, which means secure boot is disabled and there are no keys enrolled in the firmware. Otherwise the machine won&rsquo;t boot the UKI ISO, as it will not be able to enroll the keys.

</div>

<ol>
<li>The machine boots HTTP Boot and loads the ISO.</li>
<li>The ISO is loaded on memory and booted and systemd-boot enrolls the keys from the ISO into the firmware, allowing the UKI to boot and enabling Secure Boot.</li>
<li>The machine reboots and HTTP boots the UKI ISO again, this time with Secure Boot enabled.</li>
<li>The system boots fully from the UKI ISO into memory.</li>
<li>The Kernel maps the ISO from the memory and presents it to the OS like any other media, allowing the OS to use it as an install source like if we booted from a USB stick or a CD-ROM.</li>
</ol>
<hr>
<h2 id="preparing-the-boot-environment">Preparing the Boot Environment</h2>
<p>You must provide:</p>
<ul>
<li>A <strong>Trusted Boot Kairos ISO</strong></li>
</ul>
<p>For example if your ISO is at <code>/opt/images/kairos-uki.iso</code>, start AuroraBoot with:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">docker run --privileged -v /opt/images/:/aurora --rm -ti quay.io/kairos/auroraboot uki-pxe /aurora/kairos-uki.iso
</span></span></code></pre></div><hr>
<h2 id="resources">Resources</h2>
<ul>
<li><a href="https://github.com/kairos-io/kairos-agent/pull/791">kairos-agent PR #791</a></li>
<li><a href="https://github.com/kairos-io/AuroraBoot/pull/276">AuroraBoot PR #276</a></li>
<li><a href="https://github.com/kairos-io/efi-key-enroller">efi-key-enroller repo</a></li>
</ul>

	<div class="td-page-meta__lastmod">
  Last modified October 20, 2025: <a href="https://github.com/kairos-io/kairos-docs/commit/666b69577ba312ec0edb951f4a1e5633c9755c5a">Fix missing closing code-block (666b695)</a>
</div>

</div>


          </main>
        </div>
      </div>
      <footer class="row d-print-none">
    <div id="footer-content">
        <div>
            <div class="footer-logo">
                
                <img src="/index/footer-logo.png" alt="Kairos Logo" loading="lazy">
                <div class="footer-text">Project supported by <a href="https://spectrocloud.com" target="_blank"> <img src="/img/spectrocloud-dark.svg" class="sclogo" loading="lazy" width="192" height="51" alt="Spectro-Cloud-logo"> </a></div>
            </div>
            <div class="footer-follow-us">Follow us
                <div>
                    <a href="https://www.linkedin.com/company/kairos-oss/" target="_blank">
                        <i class="fa-brands fa-linkedin"></i>
                    </a>
                    <a href="https://github.com/kairos-io/kairos" target="_blank">
                        <i class="fa-brands fa-github"></i>
                    </a>
                    <a href="https://www.youtube.com/@Kairos-IO" target="_blank">
                        <i class="fa-brands fa-youtube"></i>
                    </a>
                </div>
            </div>
        </div>
    </div>
</footer>

    </div>
    <script src="/js/main.min.bf0cab613e991fc11bc28a4a07b0aedef47c7c7c2595703ac3adf962fd6a8099.js" integrity="sha256-vwyrYT6ZH8EbwopKB7Cu3vR8fHwllXA6w635Yv1qgJk=" crossorigin="anonymous"></script>
<script defer src="/js/click-to-copy.min.73478a7d4807698aed7e355eb23f9890ca18fea3158604c8471746d046702bad.js" integrity="sha256-c0eKfUgHaYrtfjVesj&#43;YkMoY/qMVhgTIRxdG0EZwK60=" crossorigin="anonymous"></script>
<script src='/js/tabpane-persist.js'></script>

  </body>
</html>